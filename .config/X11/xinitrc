#!/bin/sh

# -----XDG Base Directory------
USERXSESSION="$XDG_CACHE_HOME/x11/xsession"
USERXSESSIONRC="$XDG_CACHE_HOME/x11/xsessionrc"
ALTUSERXSESSION="$XDG_CACHE_HOME/x11/Xsession"
ERRFILE="$XDG_CACHE_HOME/x11/xsession-errors"

# ------Source xprofile------
[ -f /etc/xprofile ] && . /etc/xprofile
[ -f ~/.xprofile ] && . ~/.xprofile

# ------Autostart------
killall "lxsession"
lxsession &

killall "dunst"
dunst &

setwallpaper

killall "picom"
picom --experimental-backends --backend glx --xrender-sync-fence &

nn-applet &

killall "blueman-applet"
blueman-applet &

killall "transmission"
transmission-daemon &

killall "flameshot"
flameshot &

[ ! -s ~/.local/share/mpd/pid ] && mpd

killall "mpDris2"
mpDris2 &

# ------exec WM or DE------
session=${1:-$WM}
exec $session

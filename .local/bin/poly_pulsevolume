#!/bin/sh
# Outputs the pulse volume level formatted to be shown in polybar
devicename="bluez_sink.00_1B_66_D0_E8_81.a2dp_sink"
device=$(pulsedevices | grep $devicename -A 2)
mute=$(echo "$device" | grep "Mute" | awk '{ print $2 }')
vol=$(echo "$device" | grep "front-left" | awk '{ print $5 }')

if [ "$mute" = "yes" ]; then
  echo "ðŸ”‡ mute"
elif [ "$(echo "$vol" | tr -d "%")" -gt 70 ]; then
  echo "ï©½ $vol"
elif [ "$(echo "$vol" | tr -d "%")" -gt 35 ]; then
  echo "ï©¿ $vol"
else
  echo "ï©¾ $vol"
fi
